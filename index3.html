<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Step 3</title>

  </head>
  <body>
    <!--CONTENT OF DOCUMENT-->
    <a id="tree" href="#60">Jump to tree</a>
  
    <h1 id="shortcuts">Keyboard Shortcuts / Instructions:</h1>
    <h2 id="shortcuts">Mac Users:</h2>
    <p>
      <ol>
        <li>If using VoiceOver, ensure that "Quick Nav" is turned off.</li>
        <li>Press the "+ =" key to move forward one step.</li>
        <li>Press the "- (minus) _" key to move backward one step.</li>
        <li>Use your screen reader's header navigation keys to explore the nodes.</li>
      </ol>
    </p>
    <h2 id="shortcuts">PC Users:</h2>
    <p>
      <ol>
        <li>Ensure that "Num Lock" is turned on.</li>
        <li>Press the "Numpad +" key to move forward one step.</li>
        <li>Press the "Numpad - (minus)" key to move backward one step.</li>
        <li>Use your screen reader's header navigation keys to explore the nodes.</li>
      </ol>
    </p>

    <h1 id="log">What Changed:</h1>
    <p>
      <ol>
        <li>You are in Step 3.</li>
        <li>Node 80 swapped places with Node 40.</li>
      </ol>
    </p>

      <label for="hide">Select to hide irrelevant parts of the tree:</label>
      <input type="checkbox" id="hide" name="hide" value="hide" onclick="self.hideBranch()">

   <!--The graph:-->
   <h1 tabindex = "0" id="60">60</h1>
   <p>
     <ol>
       <li>Parent is None because 60 is the root.</li>
       <li>Level is 1.</li>
       <li>Children are <a href="#30">30</a> and <a href="#40">40</a>.</li>
     </ol>
   </p>

  <div id="group30">
    <h2 tabindex = "0" id="30">30</h2>
    <p>
      <ol>
        <li>Parent is 60.</li>
        <li>Level is 2.</li>
        <li>Children are <a href="#10">10</a> and <a href="#20">20</a>.</li>
      </ol>
    </p>
  </div>

  <div id="group10_20">
    <h3 tabindex = "0" id="10">10</h3>
    <p>
      <ol>
        <li>Parent is <a href="#30">30</a>.</li>
        <li>Level is 3.</li>
        <li>There are no children.</li>
      </ol>
    </p>
    <h3 tabindex = "0" id="20">20</h3>
    <p>
      <ol>
        <li>Parent is <a href="#30">30</a>.</li>
        <li>Level is 3.</li>
        <li>There are no children.</li>
      </ol>
    </p>
  </div>

<div id="group80">
    <h2 tabindex = "0" id="80" onfocus="newSound.play()">80</h2>
    <p>
      <ol>
        <li>What changed: 80 Swapped places with 40.</li>
        <li>Parent is <a href="#60">60</a>.</li>
        <li>Level is 2.</li>
        <li>Child is <a href="#40">40</a>.</li>
      </ol>
    </p>
</div>

<div id="group40">
  <h3 tabindex = "0" id="40" onfocus="newSound.play()">40</h3>
  <p>
    <ol>
        <li>What changed: 40 swapped places with 80.</li>
        <li>Parent is <a href="#80">80</a>.</li>
      <li>Level is 3.</li>
      <li>There are no children.</li>
    </ol>
  </p>
</div>

<!--Backwards dialog for 80 (switched places with 40)-->
<dialog id="dialog_backwards_80" role="dialog" aria-labelledby="dialog">
  Node 80 was in a different place in the previous step.
  <a href="index2.html#80">Click here to move to 80 at its old location.</a>
  <a href="index2.html#40">Click here to move to 40, the node that was at 80's current location.</a>
  <a onclick="javascript:hideDialog()" href="#80">Click here to return to Node 80 on this page.</a>
</dialog>

<!--Forward dialog for 80 (switched places with 40)-->
<dialog id="dialog_forward_80" role="dialog" aria-labelledby="dialog">
  Node 80 will move places in the next step.
  <a href="index4.html#80">Click here to move to 80 at its new location.</a>
  <a href="index4.html#60">Click here to move to 60, the node that will be at 80's current location.</a>
  <a onclick="javascript:hideDialog()" href="#80">Click here to return to Node 80 on this page.</a>
</dialog>

<!--Backwards dialog for 40 (switched places with 80)-->
<dialog id="dialog_backwards_40" role="dialog" aria-labelledby="dialog">
  Node 40 was in a different place in the previous step.
  <a href="index2.html#40">Click here to move to 40 at its old location.</a>
  <a href="index2.html#80">Click here to move to 80, the node that was at 40's current location.</a>
  <a onclick="javascript:hideDialog()" href="#40">Click here to return to Node 40 on this page.</a>
</dialog>

  <script>
    // Variables
    var dialog_backwards_80 = document.getElementById("dialog_backwards_80");
    var dialog_forward_80 = document.getElementById("dialog_forward_80");
    var dialog_backwards_40 = document.getElementById("dialog_backwards_40");

    var node_80 = document.getElementById("80");
    var node_40 = document.getElementById("40");

    // adding a sound
    var newSound = new Audio();
    newSound.src = "Highlight.m4a"
  
    // Hiding irrelevent parts of the branch
    function hideBranch() {
      if (document.getElementById("hide").checked == true) {
        document.getElementById("group30").style.visibility="hidden";
        document.getElementById("group10_20").style.visibility="hidden";
      }
      else {
        document.getElementById("group30").style.visibility="visible";
        document.getElementById("group10_20").style.visibility="visible";
      }
    }

    // Function to hide dialog boxes
    function hideDialog() {
      dialog_backwards_80.close();
      dialog_forward_80.close();
      dialog_backwards_40.close();
    }

    var map = {}; // You could also use an array
    onkeydown = onkeyup = function(e){
      e = e || event; // to deal with IE
      map[e.keyCode] = e.type == 'keydown';
      // "= +" or "Add"
      if (map[187] || map[107]) {
        if (document.activeElement == node_80) {
            dialog_forward_80.show();
        }
        else {
          window.location.href = "index4.html#" + document.activeElement.id;
        }
      }
      // "- _" or "Subtract"
      if (map[189] || map[109]) {
        if (document.activeElement == node_80) {
          dialog_backwards_80.show();
        }
        else if (document.activeElement == node_40) {
          dialog_backwards_40.show();
        }
        else {
          window.location.href = "index2.html#" + document.activeElement.id;
        }
      }
    }
   </script>

    <!--END CONTENT OF DOCUMENT-->
  </body>
</html> 
